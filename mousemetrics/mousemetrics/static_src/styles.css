@import "tailwindcss";

html {
  scroll-behavior: smooth;
}

/* Dynamic color scheme via CSS variables */
:root {
  --color-bg-primary: oklch(98.5% 0.002 247.839); /* neutral-100 */
  --color-bg-secondary: oklch(96.7% 0.003 264.542); /* neutral-200 */
  --color-bg-card: oklch(92.8% 0.006 264.531); /* neutral-200 */
  --color-bg-white: oklch(100% 0 0); /* white */
  --color-text-primary: oklch(21% 0.034 264.665); /* neutral-900 */
  --color-text-secondary: oklch(44.6% 0.03 256.802); /* neutral-600 */
  --color-text-muted: oklch(44.6% 0.03 256.802); /* neutral-600 */
  --color-border: oklch(87.2% 0.01 258.338); /* neutral-300 */
  --color-primary: oklch(70.7% 0.022 261.325); /* neutral-400 */
  --color-primary-hover: oklch(55.1% 0.027 264.364); /* neutral-600 */
  --color-link: oklch(54.6% 0.245 262.881); /* blue-600 */
  --color-link-hover: oklch(48.8% 0.243 264.376); /* blue-700 */
  --color-table-header-bg: oklch(92.8% 0.006 264.531); /* gray-200 */
  --color-table-header-text: oklch(37.3% 0.034 259.733); /* gray-700 */
  --color-table-row-odd: oklch(100% 0 0); /* white */
  --color-table-row-even: oklch(92.8% 0.006 264.531); /* gray-200 */
  --color-table-text: oklch(21% 0.034 264.665); /* neutral-900 */
}

@media (prefers-color-scheme: dark) {
  :root {
    --color-bg-primary: oklch(21% 0.034 264.665); /* neutral-900 */
    --color-bg-secondary: oklch(37.3% 0.034 259.733); /* neutral-700 */
    --color-bg-card: oklch(37.3% 0.034 259.733); /* neutral-800 */
    --color-bg-white: oklch(37.3% 0.034 259.733); /* neutral-800 */
    --color-text-primary: oklch(98.5% 0.002 247.839); /* neutral-100 */
    --color-text-secondary: oklch(70.7% 0.022 261.325); /* neutral-400 */
    --color-text-muted: oklch(70.7% 0.022 261.325); /* neutral-400 */
    --color-border: oklch(25% 0.015 260); /* even darker, more subtle border */
    --color-primary: oklch(55.1% 0.027 264.364); /* neutral-600 */
    --color-primary-hover: oklch(70.7% 0.022 261.325); /* neutral-400 */
    --color-link: oklch(70.7% 0.165 254.624); /* blue-400 */
    --color-link-hover: oklch(80.9% 0.105 251.813); /* blue-300 */
    --color-table-header-bg: oklch(37.3% 0.034 259.733); /* neutral-700 */
    --color-table-header-text: oklch(98.5% 0.002 247.839); /* neutral-100 */
    --color-table-row-odd: oklch(37.3% 0.034 259.733); /* neutral-800 */
    --color-table-row-even: oklch(37.3% 0.034 259.733); /* neutral-700 */
    --color-table-text: oklch(98.5% 0.002 247.839); /* neutral-100 */
  }
}

@layer utilities {
  .bg-primary {
    background-color: var(--color-bg-primary);
  }

  .bg-secondary {
    background-color: var(--color-bg-secondary);
  }

  .bg-card {
    background-color: var(--color-bg-card);
  }

  .bg-white-dynamic {
    background-color: var(--color-bg-white);
  }

  .text-primary {
    color: var(--color-text-primary);
  }

  .text-secondary {
    color: var(--color-text-secondary);
  }

  .text-muted-dynamic {
    color: var(--color-text-muted);
  }

  .border-dynamic {
    border-color: var(--color-border);
  }

  .link-dynamic {
    color: var(--color-link);
  }

  .link-dynamic:hover {
    color: var(--color-link-hover);
  }
}

@layer components {
  .btn-primary {
    @apply inline-flex items-center justify-center
    px-5 py-2.5
    rounded-xl
    cursor-pointer
    border-2 shadow-md
    hover:shadow-lg
    focus:outline-none focus:ring-2 focus:ring-offset-2
    transition duration-200 ease-in-out;
    background-color: var(--color-primary);
    color: var(--color-text-primary);
    border-color: var(--color-primary);
  }

  .btn-primary:hover {
    border-color: var(--color-primary-hover);
    background-color: var(--color-primary-hover);
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center
    px-5 py-2.5
    rounded-xl
    cursor-pointer
    bg-transparent border-2 shadow-md
    hover:shadow-lg
    focus:outline-none focus:ring-2 focus:ring-offset-2
    transition duration-200 ease-in-out;
    color: var(--color-text-primary);
    border-color: var(--color-primary);
  }

  .btn-secondary:hover {
    border-color: var(--color-primary-hover);
  }

  .table-data:nth-child(odd) {
    @apply divide-x-1;
    background-color: var(--color-table-row-odd);
    border-color: var(--color-border);
  }

  .table-data:nth-child(odd):hover {
    background-color: var(--color-bg-secondary);
  }

  .table-data:nth-child(even) {
    @apply divide-x-1;
    background-color: var(--color-table-row-even);
    border-color: var(--color-border);
  }

  .table-data:nth-child(even):hover {
    background-color: var(--color-bg-secondary);
  }

  .table-data td {
    color: var(--color-table-text);
  }

  .table-data a {
    color: var(--color-link);
    text-decoration: none;
  }

  .table-data a:hover {
    color: var(--color-link-hover);
    text-decoration: underline;
  }

  .input-label {
    @apply text-sm text-gray-500 transform scale-75 -translate-y-4 origin-left start-2.5;
  }

  .numeric {
    @apply text-right;
  }

  .table-padding {
    @apply mx-2 px-2;
  }

  .table-header-text {
    @apply px-2 border-2;
    border-color: var(--color-border);
    color: var(--color-table-header-text);
  }

  .floating-label {
    @apply text-sm text-gray-900 bg-gray-50 rounded-t-lg border-0 border-b-2 border-gray-300 appearance-none focus:border-blue-600 focus:ring-0 focus:outline-none;
  }

  .default-header {
    @apply text-xl font-medium text-center;
    color: var(--color-text-primary);
  }

  .mouse-flex {
    @apply flex border-b border-gray-200 pb-3;
  }

  .mouse-row {
    @apply w-1/3 text-sm font-medium;
    color: var(--color-text-secondary);
  }

  .mouse-data {
    @apply w-2/3 text-sm;
    color: var(--color-text-primary);
  }

  @layer base {
    a {
      @apply text-blue-600 hover:underline
      dark:text-blue-400 dark:hover:text-blue-300;
    }
  }

  .error-message-compact {
    @apply text-sm text-red-500 leading-tight;
  }

  .table-header {
    @apply uppercase text-sm font-semibold;
    background-color: var(--color-table-header-bg);
    color: var(--color-table-header-text);
  }

  .input {
    @apply w-full px-3 py-2 border rounded-lg
    focus:outline-none focus:ring-2;
    background-color: var(--color-bg-white);
    border-color: var(--color-border);
    color: var(--color-text-primary);
  }

  .input:focus {
    --tw-ring-color: var(--color-primary);
  }

  .card {
    @apply border rounded-lg p-6;
    background-color: var(--color-bg-card);
    border-color: var(--color-border);
  }

  .page-title {
    @apply text-2xl font-semibold mb-4;
  }

  .text-muted {
    @apply text-sm;
    color: var(--color-text-muted);
  }

  .text-muted-small {
    @apply text-xs;
    color: var(--color-text-muted);
  }

  .error-message {
    @apply mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded;
  }

  /* Request highlighting using :target pseudo-class */
  li:target {
    @apply border-blue-500 border-2 bg-blue-50 ring-2 ring-blue-300;
  }
}

/* Notification dropdown checkbox trick - outside @layer for proper compilation */
.notification-checkbox:not(:checked) ~ .notification-menu {
  display: none;
}

.notification-checkbox:checked ~ .notification-menu {
  display: block;
  animation: fadeIn 0.2s ease-in-out;
}

.notification-checkbox:not(:checked)
~ .notification-menu
~ .notification-overlay {
  display: none;
}

.notification-checkbox:checked ~ .notification-menu ~ .notification-overlay {
  position: fixed;
  inset: 0;
  z-index: 30;
  pointer-events: auto;
}

.notification-menu {
  transition: opacity 0.2s;
  pointer-events: auto;
}

#notification-container label[for="notification-toggle"] {
  pointer-events: auto;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
