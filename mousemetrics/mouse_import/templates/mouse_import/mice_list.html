<h1>Mice</h1>

<form method="get" style="margin-bottom:1rem;">
  <label>Project:
    <select name="project" onchange="this.form.submit()">
      <option value="">All</option>
      {% for p in projects %}
        <option value="{{ p.id }}" {% if selected_project == p.id|stringformat:"s" %}selected{% endif %}>
          Project {{ p.id }}
        </option>
      {% endfor %}
    </select>
  </label>
</form>

<table border="1" cellpadding="4">
  <thead>
    <tr>
      <th>Project</th>
      <th>Tube #</th>
      <th>Box</th>
      <th>Sex</th>
      <th>Date of Birth</th>
      <th>Strain</th>
      <th>Coat Colour</th>
      <th>Earmark</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    {% for m in page.object_list %}
      <tr>
        <td>{{ m.project_id }}</td>
        <td>{{ m.tube_number }}</td>
        <td>{{ m.box.number }}</td>
        <td>{{ m.get_sex_display }}</td>
        <td>{{ m.date_of_birth }}</td>
        <td>{{ m.strain }}</td>
        <td>{{ m.coat_colour }}</td>
        <td>{{ m.earmark }}</td>
        <td>{{ m.notes }}</td>
      </tr>
    {% empty %}
      <tr><td colspan="9">No mice found.</td></tr>
    {% endfor %}
  </tbody>
</table>

<div style="margin-top:1rem;">
  {% if page.has_previous %}
    <a href="?project={{ selected_project }}&page={{ page.previous_page_number }}">« Prev</a>
  {% endif %}
  <span>Page {{ page.number }} / {{ page.paginator.num_pages }}</span>
  {% if page.has_next %}
    <a href="?project={{ selected_project }}&page={{ page.next_page_number }}">Next »</a>
  {% endif %}
</div>
